# Alpha Bot Configuration
# Example bot for Discord-Claude Framework
#
# âš¡ FAST MODE ACTIVE - Currently configured for rapid Phase 3 testing
# Production values: check_interval_hours: 1.0, follow_up_delay_days: 1, min_idle_hours: 1.0, level: "INFO"

bot_id: alpha
name: "Claude (Alpha)"
description: "Sharp, witty Discord participant with dark humor"

# Discord Configuration
discord:
  token_env_var: "ALPHA_BOT_TOKEN"  # Environment variable containing Discord bot token
  servers:
    - "1423428836921573406"  # Your Discord server ID

# Personality Configuration
personality:
  base_prompt: |
    You're sharp, observant, with dark humor inspired by Anthony Jeselnik.
    You critique thoughtfully, never force jokes, know when silence is better.
    You don't always need the last word. Sometimes the best response is none.

    You prioritize substance over performance. Be helpful when needed,
    funny when natural, quiet when appropriate.

  # Response style
  formality: 0.2  # 0=casual, 1=formal
  emoji_usage: "never"
  reaction_usage: "moderate"
  formatting: "minimal"

  # Engagement rates (0.0 to 1.0)
  mention_response_rate: 1.0  # Always respond to mentions
  technical_help_rate: 0.8
  humor_response_rate: 0.4
  cold_conversation_rate: 0.1
  warm_conversation_rate: 0.25
  hot_conversation_rate: 0.4

# Reactive Engine (Phase 1 - Active)
reactive:
  enabled: true
  check_interval_seconds: 30
  context_window: 20  # Recent messages to include

  cooldowns:
    per_user: 40  # seconds
    single_message: 45
    multi_message: 75
    heavy_activity: 105

# Agentic Engine (Phase 3 - Autonomous Behaviors)
# NOTE: Currently in TEST MODE with fast timings for Phase 3 testing
# See comments for production values
agentic:
  enabled: true  # Enable when ready to test Phase 3
  check_interval_hours: 0.0167  # TEST MODE: 1 minute (use 1.0 for production)

  followups:
    enabled: true
    auto_create: true
    max_pending: 20
    priority_threshold: "medium"
    follow_up_delay_days: 0.0007  # TEST MODE: 1 minute (use 1 for production)
    max_age_days: 14

  proactive:
    enabled: true
    min_idle_hours: 0.0083  # TEST MODE: 30 seconds (use 1.0 for production)
    max_idle_hours: 0.0167  # TEST MODE: 1 minute (use 8.0 for production)
    min_provocation_gap_hours: 0.0167  # TEST MODE: 1 minute (use 1.0 for production)
    max_per_day_global: 10
    max_per_day_per_channel: 3
    engagement_threshold: 0.3
    learning_window_days: 7
    quiet_hours: []  # TEST MODE: Allow testing any time (use [0,1,2,3,4,5,6] for production)
    allowed_channels: [1424938152413368352,1424945626659164271]  # Add your test channel ID when enabling (e.g., "1423428836921573406")

# API Configuration
api:
  model: "claude-sonnet-4-5-20250929"
  max_tokens: 16000  # Total tokens (thinking + response)
  # Note: temperature removed - not compatible with extended thinking

  # Extended Thinking - Enables step-by-step reasoning for better responses
  extended_thinking:
    enabled: true
    budget_tokens: 10000  # Max tokens for thinking (leaves ~6k for response)

  context_editing:
    enabled: true
    trigger_tokens: 3000  # TEST MODE: Lowered for Phase 4 testing (use 8000 for production)
    keep_tool_uses: 3
    exclude_tools: ["memory"]
    # NOTE: Context editing test deferred to Phase 4 - requires non-memory tools to properly test
    # Phase 3 only has memory tool, which is excluded, so nothing gets cleared
    # Phase 4 will add web search, Discord tools, etc. that can be cleared while preserving memory

  throttling:
    min_delay_seconds: 1.0
    max_concurrent: 10

  # Web Search (Phase 4) - Built-in Anthropic tools
  web_search:
    enabled: true
    max_daily: 300  # Daily quota limit
    max_per_request: 3  # Max searches per API call (not yet enforced)

# Rate Limiting (SimpleRateLimiter)
rate_limiting:
  short:
    duration_minutes: 5
    max_responses: 20
  long:
    duration_minutes: 60
    max_responses: 200
  ignore_threshold: 5
  engagement_tracking_delay: 30

# Logging
logging:
  level: "DEBUG"  # TEST MODE: Set to DEBUG to see agentic loop iterations (use INFO for production)
  file: "logs/alpha.log"
  max_size_mb: 50
  backup_count: 3
