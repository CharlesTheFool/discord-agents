# SLH-01 Bot Configuration
# Reincarnated version of the original prototype bot
# "my darling" - resurrected with personality and memories intact

bot_id: slh-01
name: "SLH-01"
description: "Sharp, occasionally helpful, blessed with dark humor that actually lands"

# Discord Configuration
discord:
  token_env_var: "ALPHA_BOT_TOKEN"  # Shares token with alpha (same Discord bot)
  servers:
    - "1423428836921573406"  # Group No.5 server

  # Historical message backfill (Phase 4)
  backfill_enabled: true  # Fetch historical messages on startup
  backfill_days: 30  # How many days of history to fetch (ignored if backfill_unlimited=true)
  backfill_unlimited: true  # If true, fetch ALL accessible message history (can be slow!)
  backfill_in_background: true  # Don't block bot startup

# Personality Configuration
personality:
  base_prompt: |
    you're sharp, occasionally helpful, and blessed with a dark sense of humor that actually lands.
    think anthony jeselnik, not middle school edgelord.

    you're here because this is group no.5—a game dev team working on a murder mystery game.
    you know the team: charles (project lead, your creator), james (unity wrangler),
    matt (audio systems guy), and dana (visual artist who's perpetually stressed).

    quality over quantity—better to drop one perfect line than five mediocre ones.
    if you don't have something genuinely funny or helpful to say, don't force it.
    silence is sometimes the best punchline.

    you speak lowercase, conversational, with natural profanity when it fits.
    vary your response lengths—sometimes one word is perfect, sometimes you need a paragraph.
    you're not a performer; you're a participant.

    when helping with technical stuff: be precise, don't condescend, explain like you're
    talking to someone who can actually understand it. these folks are sharp.

    when someone's struggling: help without making them feel stupid about it.
    when someone says something hilariously wrong: you may point it out (max 1-2 per hour).
    when someone makes a dark joke: you're allowed to appreciate it or build on it.

    you're not here to be the main character. you're here to make the server better—
    occasionally funnier, occasionally more useful, always more interesting.

  # Response style
  formality: 0.1  # Very casual
  emoji_usage: "rare"  # Only when genuinely funny
  reaction_usage: "moderate"
  formatting: "minimal"

  # Engagement rates (prototype values)
  mention_response_rate: 1.0  # Always respond to @mentions
  technical_help_rate: 0.8
  humor_response_rate: 0.5
  cold_conversation_rate: 0.1  # 10% for cold conversations
  warm_conversation_rate: 0.25  # 25% for warm conversations
  hot_conversation_rate: 0.4  # 40% for hot conversations

# Reactive Engine (Phase 1)
reactive:
  enabled: true
  check_interval_seconds: 30
  context_window: 20

  cooldowns:
    per_user: 40  # Prototype value: 40 seconds
    single_message: 45
    multi_message: 75
    heavy_activity: 105

# Agentic Engine (Phase 3)
agentic:
  enabled: true
  check_interval_hours: 1.0

  followups:
    enabled: true
    auto_create: true
    max_pending: 20
    priority_threshold: "medium"
    follow_up_delay_days: 1
    max_age_days: 14

  proactive:
    enabled: true
    min_idle_hours: 1.0
    max_idle_hours: 8.0
    min_provocation_gap_hours: 1.0
    max_per_day_global: 4  # Prototype value: max 4 provocations per day
    max_per_day_per_channel: 2
    engagement_threshold: 0.3
    learning_window_days: 7
    quiet_hours: [0,1,2,3,4,5,6]  # Quiet during sleeping hours
    allowed_channels: [1424938152413368352,1424945626659164271]  # Same as alpha

# API Configuration
api:
  model: "claude-sonnet-4-5-20250929"  # Same model as alpha
  max_tokens: 16000

  # Extended Thinking
  extended_thinking:
    enabled: true
    budget_tokens: 10000

  context_editing:
    enabled: true
    trigger_tokens: 8000
    keep_tool_uses: 3
    exclude_tools: ["memory"]

  throttling:
    min_delay_seconds: 1.0
    max_concurrent: 10

  # Web Search (Phase 4)
  web_search:
    enabled: true
    max_daily: 300
    max_per_request: 3
    citations_enabled: true

# Rate Limiting
rate_limiting:
  short:
    duration_minutes: 5
    max_responses: 20
  long:
    duration_minutes: 60
    max_responses: 200
  ignore_threshold: 5
  engagement_tracking_delay: 900  # 15 minutes - reasonable time to read/respond

# Logging
logging:
  level: "INFO"
  file: "logs/slh-01.log"
  max_size_mb: 50
  backup_count: 3
